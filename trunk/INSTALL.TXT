#
# Postfix Admin
# by Mischa Peters <mischa at high5 dot net>
# Copyright (c) 2002 - 2005 High5!
# Licensed under GPL for more info check GPL-LICENSE.TXT
#

REQUIRED!!
----------
- You are using Postfix 2.0 or higher.
- You are using Apache 1.3.27 / Lighttpd 1.3.15 or higher.
- You are using PHP 4.1 or higher (5.X recommended)
- You are using MySQL 3.23 or higher (5.x recommended)


READ THIS FIRST!
----------------
When this is an upgrade from Postfix Admin 1.5.4 please read DOCUMENTS/UPGRADE.TXT!!

If you need to setup Postfix to be able to handle Virtual Domains and Virtual
Users check out :

  - http://high5.net/howto/ 
  - http://codepoets.co.uk/docs/postfix_postgresql_postfixadmin_courier_howto (Postfix+PostgreSQL+Courier+Postfixadmin)
  - http://bliki.rimuhosting.com/space/knowledgebase/linux/mail/postfixadmin+on+debian+sarge (Postfix+MySQL+Postfixadmin+Dovecot)
  - http://gentoo-wiki.com/HOWTO_Setup_a_Virtual_Postfix/Courier_Mail_System_with_PostfixAdmin (Postfix+MySQL+Postfixadmin+Courier)


1. Unarchive new Postfix Admin
------------------------------
Make sure that you are in your WWW directory and then unarchive the
Postfix Admin archive (whatever the filename is):

  $ tar -zxvf postfixadmin-2.2.0.tgz


2. Change permissions
----------------------
Since the database  password is stored in the config.inc.php it's a good idea
to have change the permissions for Postfix Admin (the following assumes the files
are owned by the same user as the web server is running as - e.g. www-data).

  $ cd /var/www/postfixadmin
  $ chmod 640 *.php *.css
  $ cd /var/www/postfixadmin/admin/
  $ chmod 640 *.php .ht*
  $ cd /var/www/postfixadmin/images/
  $ chmod 640 *.gif *.png
  $ cd /var/www/postfixadmin/languages/
  $ chmod 640 *.lang
  $ cd /var/www/postfixadmin/templates/
  $ chmod 640 *.tpl
  $ cd /var/www/postfixadmin/users/
  $ chmod 640 *.php
  

3. Create the Database Tables
--------------------------
In DATABASE_MYSQL.TXT you can find the table structure for MySQL that you need 
in order to configure Postfix Admin and Postfix in general to work with
Virtual Domains and Users.

In DATABASE_PGSQL.TXT you can find the table structure for PostgreSQL.

Check out the file first to see what you are about to do, then for MySQL do
something like this:

  mysql -u root < DATABASE_MYSQL.TXT

4. Configure
------------
Check the config.inc.php file. There you can specify settings that are
relevant to your setup.

Postfix Admin contains 3 views of administration.

 - Site Admin (aka superadmin) view, located at http://domain.tld/postfixadmin/admin/.
 - Domain Admin view, located at http://domain.tld/postfixadmin/.
 - User Admin View, located at http://domain.tld/postfixadmin/users/.

In order to do the initial configuration you have to go to the Site Admin view.

The default user/password for the Site Admin view of Postfix Admin is admin@domain.tld/admin

5. Done
-------
This is all that is needed. Fire up your browser and go to the site that you
specified to host Postfix Admin.

6. More information
-------------------
As of March 2007, PostfixAdmin moved to SourceForge.  For the
forum posts and source updates, see:
https://sourceforge.net/projects/postfixadmin
